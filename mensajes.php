\n\n<!doctype html>\n<html lang="es">\n  <head>\n    <meta charset="utf-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1" />\n    <title>Mensajes</title>\n \n    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">\n    <link rel="stylesheet" href="styles.css" />\n  </head>\n  <body>\n    <div class="container">\n      <header class="site-header">\n        <h1>Mensajes Guardados</h1>\n        <a href="index.html">Volver a la galerÃ\xada</a>\n      </header>\n      \n      <main>\n        <?php\n        // CORRECCIÓN: Se incluyen las credenciales de Supabase\n        require_once \'supabase_config.php\';\n        require_once \'components/GestorMensajes.php\';\n\n        // CORRECIÓN: Se pasan las credenciales a la función\n        $mensajes = GestorMensajes::obtenerTodos($supabase_url, $supabase_key);\n\n        if (!empty($mensajes)) {\n            foreach ($mensajes as $mensaje) {\n                echo "<article class=\'mensaje\'>";\n                echo "<header>";\n                // Se usa htmlspecialchars para seguridad\n                echo "<h2>" . htmlspecialchars($mensaje[\'nombre\'] ?? \'Anónimo\') . "</h2>";\n                // Se formatea la fecha para mejor lectura\n                echo "<time datetime=\'" . $mensaje[\'created_at\'] . "\'>" . date(\'d/m/Y H:i\', strtotime($mensaje[\'created_at\'])) . "</time>";\n                echo "</header>";\n                echo "<p>" . htmlspecialchars($mensaje[\'mensaje\'] ?? \'Sin contenido\') . "</p>";\n                echo "</article>";\n            }\n        } else {\n            echo "<p>No hay mensajes para mostrar.</p>";\n        }\n\n        ?>\n      </main>\n\n      <footer>\n        <p>Fin de los mensajes.</p>\n      </footer>\n    </div>\n  </body>\n</html>\n\n